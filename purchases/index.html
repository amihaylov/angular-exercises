<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<meta charset="utf-8">
		<meta name="generator" content="Bootply" />
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
		<!--[if lt IE 9]>
			<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link href="styles.css" rel="stylesheet">
	</head>
	<body ng-app="purchasesApp" ng-model="days" ng-model="db" ng-model="currentDay" ng-controller="mainCtrl">
	    <nav class="navbar navbar-inverse navbar-fixed-top">
	      <div class="container-fluid">
	        <div class="navbar-header">
	          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
	            <span class="sr-only">Toggle navigation</span>
	            <span class="icon-bar"></span>
	            <span class="icon-bar"></span>
	            <span class="icon-bar"></span>
	          </button>
	          <a class="navbar-brand" href="#">Purchases</a>
	        </div>
	      </div>
	    </nav>

	    <div class="container-fluid">
	      <div class="row">
	        <div class="col-sm-3 col-md-2 sidebar col-fixed">
	          <ul class="nav nav-sidebar" style="padding-top: 50px;">
	            <li class="active"><h4>Purchases by day</h4></li>
	            <li ng-repeat="day in days"><button type="button" class="btn btn-default btn-side" ng-click="changeDay(day)">{{day}}</button></li>
	          </ul>
	        </div>
	        <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main col-fixed">
	          <div class="row right-pane">
	          <h2 class="sub-header">{{days[currentDay]}} Purchases</h2>
	          <span class="add-purchase"><button class="btn btn-primary" data-toggle="modal" data-target="#addPurchase">Add Purchase</button></span>
	          <!-- Modal -->
				   <div class="modal fade" id="addPurchase" role="dialog">
				    <div class="modal-dialog modal-lg">
				    
				      <!-- Modal content-->
				      <div class="modal-content">
				        <div class="modal-header">
				          <button type="button" class="close" data-dismiss="modal">&times;</button>
				          <h4 class="modal-title">Add Purchase</h4>
				        </div>
				        <div class="modal-body">
				        	<div class="row" style="padding-left: 10px;">
				        		    <div style="float:left;margin-right:20px;">
								        <label for="purchase-name">Purchase Name</label>
								        <input id="purchase-name" type="text" value="" name="purchase-name" ng-model="purchaseObj.purchase">
								    </div>
								    <div style="float:left;">
								        <label for="store-name">Store Name</label>
								        <input id="store-name" type="text" value="" name="store-name" ng-model="purchaseObj.store">
								    </div>
								    <div style="float:left;">
								        <label for="price">Price</label>
								        <input id="price" type="number" value="5" min="5" name="price" ng-model="purchaseObj.price">
								    </div>
				        	</div>
		        		    <div style="float:left;margin-right:20px;">
						        <label for="description">Description</label>
						        <input id="description" type="text" value="" name="description" ng-model="purchaseObj.description">
						    </div>
				        </div>
				        <div class="modal-footer">
				          <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="addPurchase()">Add</button>
				          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				        </div>
				      </div>
				      
				    </div>
				  </div>
			  <!-- End Modal -->
	          <div class="table-responsive">
	            <table class="table table-striped">
	            	<thead>
	                	<tr>
		                  <th>Purchase Name</th>
		                  <th>Store Name</th>
		                  <th>Description</th>
		                  <th>Price</th>
		                  <th></th>
	                	</tr>
	              	</thead>
	            	<tbody>
		                <tr ng-repeat="record in db[currentDay] track by $index">
		                  <td>{{record.purchase}}</td>
		                  <td>{{record.store}}</td>
		                  <td>{{record.description}}</td>
		                  <td>{{record.price}}</td>
		                  <td>
		                  	<button type="button" class="btn btn-default" style="margin-right: 10px;" data-toggle="modal" data-target="#editPurchase">
		                  		<span class="glyphicon glyphicon-pencil"></span>
		                  	</button>
		                  	 <!-- Modal -->
							   <div class="modal fade" id="editPurchase" role="dialog">
							    <div class="modal-dialog modal-lg">
							    
							      <!-- Modal content-->
							      <div class="modal-content">
							        <div class="modal-header">
							          <button type="button" class="close" data-dismiss="modal">&times;</button>
							          <h4 class="modal-title">Add Purchase</h4>
							        </div>
							        <div class="modal-body">
							        	<div class="row" style="padding-left: 10px;">
							        		    <div style="float:left;margin-right:20px;">
											        <label for="purchase-name">Purchase Name</label>
											        <input id="purchase-name" type="text" value="" name="purchase-name" ng-model="purchaseObj.purchase">
											    </div>
											    <div style="float:left;">
											        <label for="store-name">Store Name</label>
											        <input id="store-name" type="text" value="" name="store-name" ng-model="purchaseObj.store">
											    </div>
											    <div style="float:left;">
											        <label for="price">Price</label>
											        <input id="price" type="number" value="5" min="5" name="price" ng-model="purchaseObj.price">
											    </div>
							        	</div>
					        		    <div style="float:left;margin-right:20px;">
									        <label for="description">Description</label>
									        <input id="description" type="text" value="" name="description" ng-model="purchaseObj.description">
									    </div>
							        </div>
							        <div class="modal-footer">
							          <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="editPurchase($index)">Edit</button>
							          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
							        </div>
							      </div>
							      
							    </div>
							  </div>
						 	 <!-- End Modal -->
		                  	<button type="button" class="btn btn-default" ng-click="deletePurchase($index)"><span class="glyphicon glyphicon-remove"></span></button>
		                  </td>
		                </tr>
	    			</tbody>
	    		</table>
	    	  </div>
	    	  </div>
	    	</div>
	   	  </div>
	   	</div>
    	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.js"></script>
    	<script src="purchasesApp.js"></script>
	</body>
</html>